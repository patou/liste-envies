<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport="true"
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="!(isHandset$ | async)">
    <mat-toolbar color="primary">Listes </mat-toolbar>

    <div *ngIf="!(loading$ | async); else loading">
      <mat-nav-list >
        <wish-list-item mat-list-item class="wishListCard" *ngFor="let wishList of (list$ | async)" [wishlist]="wishList">
        </wish-list-item>
      </mat-nav-list>
    </div>
    <ng-template #loading>
      <mat-spinner></mat-spinner>
    </ng-template>


  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar color="primary">


      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
       >
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>

      <a routerLink="/" class="title" i18n="app title"><span><mat-icon fontSet="fa" fontIcon="fa-gift"></mat-icon></span> Listes de mes envies</a>



      <div *ngIf="userAuth | async as user; else showLogin">
        <button mat-button [mat-menu-trigger-for]="connected">
        <span >
          <ngx-avatar [name]="user.displayName" [src]="user.photoURL"
                      [gravatarId]="user.email"
                      size="30" [round]="true">
          </ngx-avatar>
           {{ user.displayName }}</span>
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
      <ng-template #showLogin>
        <button mat-button (click)="connect()">
          <i class="fas fa-sign-in-alt"></i> Connexion
        </button>
      </ng-template>

    </mat-toolbar>

    <mat-menu yPosition="above" xPosition="before" #connected="matMenu">
      <button mat-menu-item (click)="logout()"><i class="fab sign-in-alt"></i> Deconnection </button>
      <button mat-menu-item ><i class="fas fa-user"></i> Profil</button>
    </mat-menu>
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
