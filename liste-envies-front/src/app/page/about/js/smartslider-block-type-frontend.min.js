(function () {
  var t = this;
  (t.N2_ = t.N2_ || { r: [], d: [] }),
    (t.N2R =
      t.N2R ||
      function () {
        t.N2_.r.push(arguments);
      }),
    (t.N2D =
      t.N2D ||
      function () {
        t.N2_.d.push(arguments);
      });
}.call(window),
  N2D("SmartSliderResponsiveBlock", ["SmartSliderResponsive"], function (t, e) {
    function i() {
      N2Classes.SmartSliderResponsive.prototype.constructor.apply(
        this,
        arguments
      );
    }
    return (
      (i.prototype = Object.create(N2Classes.SmartSliderResponsive.prototype)),
      (i.prototype.constructor = i),
      (i.prototype.init = function () {
        this.sliderElement.find(".n2-ss-section-main-content").length &&
          (this.updateVerticalRatios = this._updateVerticalRatios),
          (this._sliderHorizontal = this.addHorizontalElement(
            this.sliderElement,
            ["width", "marginLeft", "marginRight"],
            "w",
            "slider"
          )),
          this.addHorizontalElement(
            this.sliderElement.find(".n2-ss-slider-1"),
            [
              "paddingLeft",
              "paddingRight",
              "borderLeftWidth",
              "borderRightWidth"
            ],
            "w"
          ),
          this.addHorizontalElement(
            this.sliderElement,
            ["fontSize"],
            "fontRatio",
            "slider"
          ),
          this.addHorizontalElement(
            this.sliderElement.find(".n2-ss-slide"),
            ["width"],
            "w",
            "slideouter"
          ),
          this.addHorizontalElement(
            this.sliderElement.find(".n2-ss-layers-container"),
            ["width"],
            "slideW",
            "slide"
          ),
          (this._sliderVertical = this.addVerticalElement(
            this.sliderElement,
            ["marginTop", "marginBottom"],
            "h"
          )),
          this.addVerticalElement(
            this.sliderElement.find(".n2-ss-slider-1"),
            [
              "height",
              "paddingTop",
              "paddingBottom",
              "borderTopWidth",
              "borderBottomWidth"
            ],
            "h",
            "slider"
          ),
          this.addVerticalElement(
            this.sliderElement.find(".n2-ss-slide"),
            ["height"],
            "h",
            "slideouter"
          ),
          this.addVerticalElement(
            this.sliderElement.find(".n2-ss-layers-container"),
            ["height"],
            "slideH",
            "slide"
          ).setCentered();
        var e = this.sliderElement.find(".n2-ss-slider-background-video");
        e.length &&
          (n2const.isVideoAutoplayAllowed()
            ? ((this._videoPlayerReady = t.proxy(
                this.videoPlayerReady,
                this,
                e
              )),
              e[0].videoWidth > 0
                ? this._videoPlayerReady()
                : (e[0].addEventListener(
                    "error",
                    t.proxy(this.videoPlayerError, this, e),
                    !0
                  ),
                  e[0].addEventListener("canplay", this._videoPlayerReady)),
              e[0].load(),
              e[0].play())
            : this.videoPlayerError(e));
      }),
      (i.prototype.videoPlayerError = function (t) {
        t.remove();
      }),
      (i.prototype.videoPlayerReady = function (e) {
        e[0].removeEventListener("canplay", this._videoPlayerReady),
          e.data("ratio", e[0].videoWidth / e[0].videoHeight),
          e.addClass("n2-active"),
          this.slider.ready(
            t.proxy(function () {
              this.slider.sliderElement.on(
                "SliderResize",
                t.proxy(this.resizeVideo, this, e)
              ),
                this.resizeVideo(e);
            }, this)
          );
      }),
      (i.prototype.resizeVideo = function (t) {
        var e = t.data("mode"),
          i = t.data("ratio"),
          s = this.slider.dimensions.slideouter || this.slider.dimensions.slide,
          r = s.width / s.height;
        "fill" == e
          ? r > i
            ? t.css({ width: "100%", height: "auto" })
            : t.css({ width: "auto", height: "100%" })
          : "fit" == e &&
            (i > r
              ? t.css({ width: "100%", height: "auto" })
              : t.css({ width: "auto", height: "100%" })),
          t.css("marginTop", 0).css(n2const.rtl.marginLeft, 0),
          this.center(t);
      }),
      (i.prototype.center = function (t) {
        var e = t.parent();
        t.css({ marginTop: parseInt((e.height() - t.height()) / 2) }),
          t.css(n2const.rtl.marginLeft, parseInt((e.width() - t.width()) / 2));
      }),
      i
    );
  }),
  N2D("SmartSliderBlock", ["SmartSliderAbstract"], function (t, e) {
    function i(t, e) {
      (this.type = "block"),
        (this.responsiveClass = N2Classes.SmartSliderResponsiveBlock),
        N2Classes.SmartSliderAbstract.prototype.constructor.call(this, t, e);
    }
    return (
      (i.prototype = Object.create(N2Classes.SmartSliderAbstract.prototype)),
      (i.prototype.constructor = i),
      (i.prototype.initResponsiveMode = function () {
        (this.responsive = new N2Classes.SmartSliderResponsiveBlock(
          this,
          this.parameters.responsive
        )),
          this.responsive.start(),
          N2Classes.SmartSliderAbstract.prototype.initResponsiveMode.call(this);
      }),
      (i.prototype.initMainAnimation = function () {
        (this.mainAnimation = !1),
          this.isAdmin ||
            0 == this.parameters.postBackgroundAnimations ||
            (this.postBackgroundAnimation = new N2Classes.SmartSliderPostBackgroundAnimation(
              this,
              !1
            )),
          (this.pJS = !1),
          this.parameters.particlejs &&
            N2R(
              "particlesJS",
              t.proxy(function () {
                this.startParticleJS(this.parameters.particlejs);
              }, this)
            );
      }),
      (i.prototype.findSlideBackground = function (t) {
        var e = N2Classes.SmartSliderAbstract.prototype.findSlideBackground.call(
          this,
          t
        );
        return (
          e.appendTo(this.sliderElement.find(".n2-ss-slide-backgrounds")), e
        );
      }),
      (i.prototype.getSlideBackgroundContainer = function () {
        return this.sliderElement.find(".n2-ss-slide").parent();
      }),
      i
    );
  }),
  N2D("smartslider-block-type-frontend"));
